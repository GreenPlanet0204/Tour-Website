webpackJsonp([12],{"0y+Q":function(t,e){t.exports='<svg viewBox="0 0 48 44" xmlns="http://www.w3.org/2000/svg"><path d="M39 42.736c-.043-15.66-29-15.648-29 .035v.725C3.944 39.139 0 32.03 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 7.58-3.513 14.338-9 18.736zM23.61 10C18.29 10 14 14.312 14 19.658c0 5.347 4.29 9.486 9.61 9.486a9.434 9.434 0 0 0 9.437-9.486c0-5.346-4.29-9.658-9.438-9.658z" fill="#F7941E" fill-rule="evenodd"></path></svg>'},"6wqf":function(t,e,n){var s;!function(n){"use strict";function i(t,e){for(var n in e=e||{},this.settings={checkable:"none"},e)e.hasOwnProperty(n)&&(this.settings[n]=e[n]);if(this.button=t,this.button.setAttribute("aria-haspopup",!0),this.button.setAttribute("aria-expanded",!1),this.menuId=this.button.getAttribute("data-inclusive-menu-opens"),this.menu=document.getElementById(this.menuId),!this.menu)throw new Error("Element `#"+this.menuId+"` not found.");if(this.menu.setAttribute("role","menu"),this.menu.hidden=!0,this.menuItems=this.menu.querySelectorAll("button"),this.menuItems.length<1)throw new Error("The #"+this.menuId+" menu has no menu items");this.firstItem=this.menuItems[0],this.lastItem=this.menuItems[this.menuItems.length-1];var s=function(t,e){var n=e===this.firstItem;function s(t){return(n?t.nextElementSibling:t.previousElementSibling)||e}for(var i=s(t);i.disabled;)i=s(i);i.focus()}.bind(this);Array.prototype.forEach.call(this.menuItems,function(t){Array.prototype.filter.call(this.menuItems,function(t){return!t.disabled}).length<1?this.button.disabled=!0:("one"===this.settings.checkable?t.setAttribute("role","menuitemradio"):"many"===this.settings.checkable?t.setAttribute("role","menuitemcheckbox"):t.setAttribute("role","menuitem"),t.setAttribute("tabindex","-1"),t.addEventListener("keydown",function(e){40===e.keyCode&&(e.preventDefault(),s(t,this.firstItem)),38===e.keyCode&&(e.preventDefault(),s(t,this.lastItem)),27!==e.keyCode&&9!==e.keyCode||this.toggle(),27===e.keyCode&&(e.preventDefault(),this.button.focus())}.bind(this)),t.addEventListener("click",function(e){this.choose(t),this.close(),this.button.focus()}.bind(this)))}.bind(this)),this.button.addEventListener("click",this.toggle.bind(this)),this.button.addEventListener("keydown",function(t){40===t.keyCode&&(this.menu.hidden?this.open():this.menu.querySelector(":not([disabled])").focus()),38===t.keyCode&&this.close()}.bind(this)),this._listeners={}}i.prototype.open=function(){if(this.button.setAttribute("aria-expanded",!0),this.menu.hidden=!1,"one"===this.settings.checkable)var t=this.menu.querySelector('[aria-checked="true"]');return t?t.focus():this.menu.querySelector('[role^="menuitem"]:not([disabled])').focus(),this.outsideClick=function(t){this.menu.contains(t.target)||this.button.contains(t.target)||(this.close(),document.removeEventListener("click",this.outsideClick.bind(this)))}.bind(this),document.addEventListener("click",this.outsideClick.bind(this)),this._fire("open"),this},i.prototype.close=function(){return this.button.setAttribute("aria-expanded",!1),this.menu.hidden=!0,this._fire("close"),this},i.prototype.toggle=function(){return"true"===this.button.getAttribute("aria-expanded")?this.close():this.open()},i.prototype.choose=function(t){if("one"===this.settings.checkable&&(Array.prototype.forEach.call(this.menuItems,function(t){t.removeAttribute("aria-checked")}),t.setAttribute("aria-checked","true")),"many"===this.settings.checkable){var e="true"===t.getAttribute("aria-checked")||!1;t.setAttribute("aria-checked",!e)}return this._fire("choose",t),this},i.prototype._fire=function(t,e){(this._listeners[t]||[]).forEach(function(t){t(e)})},i.prototype.on=function(t,e){return void 0===this._listeners[t]&&(this._listeners[t]=[]),this._listeners[t].push(e),this},i.prototype.off=function(t,e){var n=this._listeners[t].indexOf(e);return n>-1&&this._listeners[t].splice(n,1),this},void 0!==t&&void 0!==t.exports?t.exports=i:void 0===(s=function(){return i}.apply(e,[]))||(t.exports=s)}()},Kjeu:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("jO+1"),i=n("ileM"),r=n("VU/8")(s.a,i.a,!1,null,null,null);r.options.__file="pages/_lang/orders.vue",e.default=r.exports},NZss:function(t,e,n){"use strict";var s=n("t6Ro"),i=n("SX9M"),r=n("VU/8")(s.a,i.a,!1,null,null,null);r.options.__file="components/userNav.vue",e.a=r.exports},SX9M:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.user.username?s("div",{staticClass:"User",attrs:{"data-inclusive-menu":""}},[s("div",{staticClass:"User-inner"},[s("button",{ref:"showNav",staticClass:"Button Button--ghost",attrs:{"data-inclusive-menu-opens":"nav"}},[s("span",{staticClass:"u-isHiddenVisually"},[t._v(t._s(t.$t("auth.userMenu")))]),s("span",{attrs:{"aria-hidden":"true"}},[s("svg-inline",{attrs:{src:n("0y+Q")}})],1),s("span",{staticClass:"User-username"},[t._v(t._s(t.user.username))])]),s("nav",{staticClass:"User-nav",attrs:{id:"nav","data-inclusive-menu-from":"bottom"}},[s("ul",[s("li",[s("button",{staticClass:"Button Button--link",attrs:{type:"button"},on:{click:t.logout}},[t._v(t._s(t.$t("auth.logout")))])]),s("li",["Administrator"===t.user.role?s("nuxt-link",{attrs:{to:{name:"lang-admin",params:{lang:t.$i18n.locale}}}},[s("span",[t._v(t._s(t.$t("auth.links.admin")))])]):t._e()],1),s("li",["Administrator"===t.user.role||"Seller"===t.user.role?s("nuxt-link",{attrs:{to:{name:"lang-orders",params:{lang:t.$i18n.locale}}}},[s("span",[t._v(t._s(t.$t("auth.links.orders")))])]):t._e()],1)])])])]):t._e()};s._withStripped=!0;var i={render:s,staticRenderFns:[]};e.a=i},ileM:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"BoxedLayout Orders"},[n("p",{staticClass:"BoxedLayout-siteTitle"},[n("nuxt-link",{attrs:{to:{name:"lang",params:{lang:t.$i18n.locale}}}},[t._v("Adriatic Sunsets")])],1),n("div",{staticClass:"BoxedLayout-main"},[t.orders?[n("h1",{staticClass:"BoxedLayout-mainTitle"},[t._v(t._s(t.$t("admin.orders.title")))]),n("table",{staticClass:"Table"},[n("thead",[n("tr",[n("th",[t._v(t._s(t.$t("admin.orders.buyer")))]),n("th",[t._v(t._s(t.$t("admin.orders.tour")))]),n("th",[t._v(t._s(t.$t("admin.orders.pickupPoint")))]),n("th",[t._v(t._s(t.$t("admin.orders.cancel")))])])]),n("tbody",t._l(t.orders,function(e){return n("tr",{key:e.id,class:{"is-cancelled":e.cancelled}},[n("td",[t._v("\n                            "+t._s(e.buyer_name)+"\n                        ")]),n("td",[t._v("\n                            "+t._s(e.tour_name)+"\n                        ")]),n("td",[t._v("\n                            "+t._s(e.pickup_point)+" - "+t._s(e.pickup_date)+"@"+t._s(e.pickup_time)+"\n                        ")]),n("td",[e.cancel_available?n("button",{staticClass:"Button Button--link is-negative",attrs:{type:"button"},on:{click:function(n){return t.removeOrder({orderID:e.id,companyID:t.user.company})}}},[t._v(t._s(t.$t("admin.orders.cancel")))]):t._e(),t._v("\n                            Â \n                        ")])])}),0)])]:t._e(),n("p",{staticClass:"BoxedLayout-back"},[t._v(t._s(t.$t("booking.continueTo"))+" "),n("nuxt-link",{attrs:{to:{name:"lang",params:{lang:t.$i18n.locale}}}},[t._v(t._s(t.$t("booking.homepage")))])],1)],2),n("user-nav")],1)};s._withStripped=!0;var i={render:s,staticRenderFns:[]};e.a=i},"jO+1":function(t,e,n){"use strict";var s=n("Dd8w"),i=n.n(s),r=n("NZss"),o=n("NYxO");e.a={middleware:"auth",components:{userNav:r.a},created:function(){this.getOrders(this.user.company)},computed:i()({},Object(o.mapState)({orders:function(t){return t.orders.orders},user:function(t){return t.user}})),head:{htmlAttrs:{class:"is-boxed-layout fontsLoaded"}},methods:i()({},Object(o.mapActions)({getOrders:"orders/GET_ORDERS",removeOrder:"orders/REMOVE_ORDER"}))}},t6Ro:function(t,e,n){"use strict";var s=n("Dd8w"),i=n.n(s),r=n("NYxO"),o=n("6wqf");e.a={data:function(){return{menuButton:!1}},watch:{"$route.path":function(){this.user.username&&(this.menuButton?this.menuButton.close():this.initMenuButton())}},computed:i()({},Object(r.mapState)({user:function(t){return t.user}})),mounted:function(){var t=this;this.menuButton||this.$nextTick(function(){t.initMenuButton()})},methods:i()({},Object(r.mapActions)({logout:"LOGOUT"}),{initMenuButton:function(){this.user.username&&(this.menuButton=new o(this.$refs.showNav,{checkable:"one"}))}})}}});